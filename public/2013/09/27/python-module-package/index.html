<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python Module Package | MutsuGhost1&#39;s Blog</title>
  <meta name="author" content="MutsuGhost1">
  
  <meta name="description" content="What&amp;#x2019;s a python module ?
Why use modules ?
How to use/write modules ?
Module search Path ?
Reload your module after applying any change ? 
What&amp;#x2019;s package ?
Why use packaes ?
How to use packages ?
An example to refactor a module as a package">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Python Module Package"/>
  <meta property="og:site_name" content="MutsuGhost1&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="MutsuGhost1&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44446906-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">MutsuGhost1&#39;s Blog</a></h1>
  <h2><a href="/">Pursue excellence, and success will follow, pants down</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-09-27T06:54:50.000Z"><a href="/2013/09/27/python-module-package/">9月 27 2013</a></time>
      
      
  
    <h1 class="title">Python Module Package</h1>
  

    </header>
    <div class="entry">
      
        <ul>
<li><a href="#what_module" title="What&#x27;s a python module ?">What&#x2019;s a python module ?</a></li>
<li><a href="#why_module" title="Why use modules ?">Why use modules ?</a></li>
<li><a href="#how_module" title="How to use/write modules ?">How to use/write modules ?</a></li>
<li><a href="#module_search_path" title="Module search Path">Module search Path ?</a></li>
<li><a href="#reload_module" title="Reload your module after applying any change">Reload your module after applying any change ?</a> </li>
<li><a href="#what_package" title="What&#x27;s package ?">What&#x2019;s package ?</a></li>
<li><a href="#why_package" title="Why use packaes ?">Why use packaes ?</a></li>
<li><a href="#how_package" title="How to use packages ?">How to use packages ?</a></li>
<li><a href="#package_example" title="An example to refactor a module as a package">An example to refactor a module as a package</a></li>
</ul>
<p><a id="more"></a></p>
<hr>
<p><a name="what_module"></a></p>
<h1 id="What&#x2019;s_a_python_module_?">What&#x2019;s a python module ?</h1>
<p>&#x5728; Python &#x4E2D;, &#x6BCF;&#x4E00;&#x500B;&#x6A94;&#x6848;&#x90FD;&#x662F;&#x4E00;&#x500B; Python Module, &#x901A;&#x5E38;&#x4EE5; py &#x505A;&#x70BA;&#x5176;&#x526F;&#x6A94;&#x540D;</p>
<blockquote>
<p>&#x5B9A;&#x7FA9;&#x4E0A;, python module &#x500B;&#x5305;&#x542B;&#x4E86; python definitions &#x4EE5;&#x53CA; python executable statements.<br>python definitions &#x901A;&#x5E38;&#x662F;&#x6307; variable definitions, function definitions and class definitions.  </p>
</blockquote>
<p>Python module &#x53EA;&#x6703;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x88AB; import &#x7684;&#x6642;&#x5019;&#x88AB;&#x57F7;&#x884C;. &#x88AB; import module &#x6703;&#x5728;&#x76EE;&#x524D;&#x57F7;&#x884C;&#x7684; global namespace &#x4E2D;,<br>&#x5EFA;&#x7ACB;&#x4E00;&#x500B;&#x5C6C;&#x65BC;&#x6B64; module &#x7684; namespace. &#x5728;&#x9810;&#x8A2D;&#x4E0B;, &#x9019;&#x500B; module &#x7684; namespace &#x6703;&#x662F; module name.<br>&#x4EFB;&#x4F55;&#x4EBA;&#x53EF;&#x4EE5;&#x900F;&#x904E;&#x9019;&#x500B; module name &#x4F86;&#x5B58;&#x53D6; module &#x5167;&#x7684;&#x5404;&#x9805; attributes.  </p>
<p>&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x5373;&#x70BA;&#x4E00;&#x500B; Module:</p>
<pre><code><span class="comment"># A python module fibo.py</span>

__VERSION = <span class="string">&quot;Version 1&quot;</span>  <span class="comment"># variable definition</span>

<span class="function"><span class="keyword">def</span> <span class="title">fibo</span><span class="params">(n)</span>:</span>             <span class="comment"># function definition</span>
    <span class="keyword">pass</span>

<span class="comment"># you can define your class here</span>

<span class="keyword">if</span> <span class="string">&quot;__main__&quot;</span> == __name__:
    <span class="keyword">pass</span>                 <span class="comment"># write executable statements</span>
</code></pre><hr>
<p><a name="why_module"></a></p>
<h1 id="Why_use_python_modules_?">Why use python modules ?</h1>
<p>&#x5C07;&#x5E38;&#x7528;&#x7684; code &#x6574;&#x7406;&#x6210; module &#x7684;&#x597D;&#x8655;&#x5982;&#x4E0B;:</p>
<ul>
<li>&#x5C07;&#x76F8;&#x95DC;&#x7684; code &#x7D44;&#x7E54;&#x5728;&#x540C;&#x4E00;&#x500B; module &#x4E2D;, &#x8B93; code &#x66F4;&#x5BB9;&#x6613;&#x7DAD;&#x8B77;, &#x66F4;&#x5BB9;&#x6613;&#x8B80;, &#x66F4;&#x5BB9;&#x6613; re-use</li>
<li>&#x907F;&#x514D; naming conflict, &#x6240;&#x6709;&#x5B9A;&#x7FA9;&#x5728; module &#x5167;&#x7684;&#x8B8A;&#x6578;, &#x90FD;&#x5C6C;&#x65BC;&#x6B64; module namespace &#x4E0B;</li>
</ul>
<hr>
<p><a name="how_module"></a></p>
<h1 id="How_to_use/write_python_modules_?">How to use/write python modules ?</h1>
<p><strong>Syntax for using a module</strong></p>
<blockquote>
<p><strong>import</strong> module1 [,module2[,&#x2026;moduleN]]<br><strong>import</strong> module [as alias]<br><strong>from</strong> module <strong>import</strong> item1[,item2[,&#x2026;itemN]]<br><strong>from</strong> module <strong>import</strong> item [as alias]  </p>
</blockquote>
<p><strong>&#x4E00;&#x500B;&#x8A08;&#x7B97; fibonacci sequence &#x7684; python module &#x5982;&#x4E0B;:</strong></p>
<pre><code><span class="comment"># module fibo.py</span>
<span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span>
    <span class="string">&quot;&quot;&quot; show fibonacci sequence up to n &quot;&quot;&quot;</span>
    a, b = <span class="number">0</span>, <span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        <span class="keyword">print</span> b,
        a,b = b, a+b

<span class="function"><span class="keyword">def</span> <span class="title">fib2</span><span class="params">(n)</span>:</span>
    <span class="string">&quot;&quot;&quot; return fibonacci sequence up to n &quot;&quot;&quot;</span>
    listFibo = []
    <span class="keyword">while</span> b &lt; n:
        listFibo.append(b)
        a,b = b, a+b
    <span class="keyword">return</span> listFibo
</code></pre><p><strong>&#x555F;&#x52D5; Python Interactive Console, &#x4E26;&#x5207;&#x63DB;&#x5230; module fibo.py &#x6240;&#x5728;&#x76EE;&#x9304;&#x4E0B;, &#x4E26;&#x57F7;&#x884C;&#x4E0B;&#x5217;&#x6307;&#x4EE4;&#x4F7F;&#x7528; fibo module:</strong>  </p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> fibo
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fibo&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span>fibo.fib(<span class="number">1000</span>)
<span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">8</span> <span class="number">13</span> <span class="number">21</span> <span class="number">34</span> <span class="number">55</span> <span class="number">89</span> <span class="number">144</span> <span class="number">233</span> <span class="number">377</span> <span class="number">610</span> <span class="number">987</span>
<span class="prompt">&gt;&gt;&gt; </span>fibo.fib2(<span class="number">100</span>)
[<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>, <span class="number">34</span>, <span class="number">55</span>, <span class="number">89</span>]
</code></pre><p><strong>&#x57F7;&#x884C; import statement &#x6642;, &#x5BE6;&#x969B;&#x4E0A;&#x57F7;&#x884C;&#x4E86; 3 &#x4EF6;&#x4E8B;&#x60C5;:</strong></p>
<ol>
<li><p>Find the file of imported module (&#x5F9E; sys.path &#x53BB;&#x627E;)  </p>
</li>
<li><p>Compile it as byte code (if needed)  </p>
</li>
<li><p>Run the module&#x2019;s code to build the objects it defines.  </p>
<ul>
<li>A variable will be created in global namespace to reference the object of the module  </li>
</ul>
</li>
</ol>
<p><strong>&#x5229;&#x7528; from &#x2026; import &#x2026; &#x4F86;&#x7C21;&#x5316;&#x4F7F;&#x7528; module &#x5167;&#x7684; atrribute name</strong></p>
<p>&#x900F;&#x904E; from module import item &#x4F86;&#x7C21;&#x5316;&#x4F7F;&#x7528; module &#x5167;&#x7684; attribute name</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">from</span> fibo <span class="keyword">import</span> fib, fib2
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fib&apos;</span>, <span class="string">&apos;fib2&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span>fib(<span class="number">1000</span>)
<span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">8</span> <span class="number">13</span> <span class="number">21</span> <span class="number">34</span> <span class="number">55</span> <span class="number">89</span> <span class="number">144</span> <span class="number">233</span> <span class="number">377</span> <span class="number">610</span> <span class="number">987</span>
<span class="prompt">&gt;&gt;&gt; </span>fib2(<span class="number">100</span>)
[<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>, <span class="number">34</span>, <span class="number">55</span>, <span class="number">89</span>]
</code></pre><p><strong>&#x4E8B;&#x5BE6;&#x4E0A;, from module import item &#x662F;&#x57FA;&#x65BC; import statement &#x4F86;&#x5BE6;&#x73FE;&#x7684;</strong></p>
<p><strong>from fibo import fib, fib2</strong> &#x53EF;&#x4EE5;&#x770B;&#x62C6;&#x89E3;&#x6210;&#x4E0B;&#x5217;&#x5E7E;&#x500B;&#x52D5;&#x4F5C;:  </p>
<ol>
<li>import fibo  </li>
<li>fib = fibo.fib  </li>
<li>fib2 = fibo.fib2  </li>
<li>del fibo</li>
</ol>
<p><strong>&#x6BCF;&#x500B; module &#x90FD;&#x6703;&#x6709;&#x4E00;&#x500B; __name__ attribute, &#x4EE3;&#x8868;&#x9019;&#x500B; module &#x7684;&#x540D;&#x7A31;</strong></p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> fibo
<span class="prompt">&gt;&gt;&gt; </span>dir(fibo)
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__file__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fib&apos;</span>, <span class="string">&apos;fib2&apos;</span>, <span class="string">&apos;main&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span>fibo.__name__
<span class="string">&apos;fibo&apos;</span>
</code></pre><p>&#x7576;&#x9019;&#x500B; python module &#x88AB;&#x7576;&#x4F5C; script &#x57F7;&#x884C;&#x6642;, __name__ &#x7684;&#x5167;&#x5BB9;&#x5C07;&#x88AB;&#x6539;&#x70BA; &#x201C;__main__&#x201C;<br>&#x9019;&#x6A23;&#x7684;&#x505A;&#x6CD5;&#x53EF;&#x4EE5;&#x8B93;&#x6BCF;&#x500B; module &#x5C07;&#x7279;&#x5B9A;&#x7684;&#x4EE3;&#x78BC;&#x53EA;&#x6709;&#x5728; module &#x88AB;&#x7576;&#x4F5C; script &#x57F7;&#x884C;&#x6642;, &#x624D;&#x6703;&#x57F7;&#x884C;</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span>
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        <span class="keyword">print</span> b,
        a,b = b, a+b

<span class="function"><span class="keyword">def</span> <span class="title">fib2</span><span class="params">(n)</span>:</span>
    result = []
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        result.append(b)
        a, b = b, a+b
    <span class="keyword">return</span> result


<span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span>
    fib(<span class="number">1000</span>)
    <span class="keyword">print</span> <span class="string">&quot;\n&quot;</span>, fib2(<span class="number">100</span>)

<span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:
    main()
</code></pre><p>&#x5728; Python Interactive Console &#x4E0B;&#x57F7;&#x884C;:</p>
<pre><code>E:<span class="command">\Temp</span><span class="command">\Python</span><span class="command">\hw</span>3<span class="command">\example</span>&gt;python.exe fibo.py
1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
<span class="special">[</span>1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89<span class="special">]</span>
</code></pre><p>&#x6B64;&#x6642; <strong> name </strong> &#x5C07;&#x7B49;&#x65BC; &#x201C;<strong> main </strong>&#x201C;, &#x6703;&#x8DD1;&#x5230; main() function &#x53BB;&#x57F7;&#x884C;</p>
<p><strong>from module import *</strong> statement</p>
<p>&#x5982;&#x679C; module &#x4E2D;&#x7121;&#x5B9A;&#x7FA9; __all__ &#x8B8A;&#x6578;, &#x5247;&#x5C07;&#x6703; copy &#x6B64; module &#x4E2D;&#x6240;&#x6709; attributes (&#x4E0D;&#x542B;__&#x958B;&#x982D;&#x4E4B; attributes)<br>&#x5426;&#x5247;, &#x53EA;&#x6703; copy __all__ &#x8B8A;&#x6578;&#x4E2D;&#x6240;&#x6307;&#x5B9A;&#x4E4B; attributes</p>
<p>Exampe: (imported module &#x4E2D;&#x7121;&#x5B9A;&#x7FA9; __all__ &#x8B8A;&#x6578;)</p>
<pre><code><span class="comment"># module fibo.py</span>

<span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span>
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        <span class="keyword">print</span> b,
        a,b = b, a+b

<span class="function"><span class="keyword">def</span> <span class="title">fib2</span><span class="params">(n)</span>:</span>
    result = []
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        result.append(b)
        a, b = b, a+b
    <span class="keyword">return</span> result
</code></pre><p>Output:</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> fibo
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fibo&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span>dir(fibo)
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__file__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fib&apos;</span>, <span class="string">&apos;fib2&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">del</span> fibo
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>]    
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">from</span> fibo <span class="keyword">import</span> *
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fib&apos;</span>, <span class="string">&apos;fib2&apos;</span>]
</code></pre><p>Exampe: (imported module &#x4E2D;&#x6709;&#x5B9A;&#x7FA9; __all__ &#x8B8A;&#x6578;)</p>
<pre><code><span class="comment"># module fibo.py</span>

__all__ = [<span class="string">&quot;fib2&quot;</span>]

<span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span>
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        <span class="keyword">print</span> b,
        a,b = b, a+b

<span class="function"><span class="keyword">def</span> <span class="title">fib2</span><span class="params">(n)</span>:</span>
    result = []
    a,b = <span class="number">0</span>,<span class="number">1</span>
    <span class="keyword">while</span> b &lt; n:
        result.append(b)
        a, b = b, a+b
    <span class="keyword">return</span> result
</code></pre><p>Output:</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="keyword">from</span> fibo <span class="keyword">import</span> *
<span class="prompt">&gt;&gt;&gt; </span>dir()
[<span class="string">&apos;__builtins__&apos;</span>, <span class="string">&apos;__doc__&apos;</span>, <span class="string">&apos;__name__&apos;</span>, <span class="string">&apos;__package__&apos;</span>, <span class="string">&apos;fib2&apos;</span>]
</code></pre><hr>
<p><a name="module_search_path"></a></p>
<h1 id="Module_Search_Path">Module Search Path</h1>
<p>&#x7576;&#x4F60;&#x5BEB;&#x597D;&#x81EA;&#x5DF1;&#x7684; Module &#x5F8C;, &#x60F3;&#x7576;&#x6210; Library &#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x5176;&#x4ED6; Python Module &#x4F86;&#x4F7F;&#x7528;&#x6642;,<br>&#x5FC5;&#x9808;&#x5C07; Module &#x653E;&#x5230;&#x5176; Search Path &#x4E2D;, &#x624D;&#x80FD;&#x8B93; Module &#x88AB;&#x6B63;&#x5E38; import &#x4E14;&#x4F7F;&#x7528;.<br>&#x4E00;&#x822C;&#x4F86;&#x8AAA;, Module Search Path &#x662F;&#x4EE5; sys.path &#x4F86;&#x8868;&#x793A;, &#x7531;&#x4E0B;&#x5217;&#x6210;&#x54E1;&#x6240;&#x7D44;&#x6210;:</p>
<ol>
<li>Directory containing the script (&#x76EE;&#x524D;&#x57F7;&#x884C;&#x4E4B; Script &#x6240;&#x5728;&#x7684;&#x76EE;&#x9304;)</li>
<li>PYTHONPATH (&#x7CFB;&#x7D71;&#x4E2D;&#x7684;&#x74B0;&#x5883;&#x8B8A;&#x6578;, User &#x53EF;&#x5C07;&#x81EA;&#x8A02;&#x7684; Module Location &#x586B;&#x5165;&#x6B64;&#x74B0;&#x5883;&#x8B8A;&#x6578;&#x4E2D;)</li>
<li>Installation Default Dependent (&#x8207;&#x5E73;&#x53F0;&#x7CFB;&#x7D71;&#x76F8;&#x95DC;&#x7684;&#x8DEF;&#x5F91;, &#x5B89;&#x88DD; Python &#x6642;, &#x5C07;&#x6703;&#x81EA;&#x52D5;&#x6C7A;&#x5B9A;)</li>
</ol>
<p>&#x7576;&#x88AB; import &#x7684; module &#x7121;&#x6CD5;&#x5728; sys.path &#x4E2D;&#x88AB;&#x641C;&#x5C0B;&#x5230;, &#x5C07;&#x6703;&#x7522;&#x751F; ImportError Exception.<br>&#x7576;&#x524D;&#x57F7;&#x884C;&#x7684; script &#x76EE;&#x9304;&#x4E2D;, &#x82E5;&#x6709;&#x8207; Standard Library &#x4E2D;&#x7684; module &#x6709;&#x76F8;&#x540C;&#x540D;&#x7A31;, &#x5247;&#x6703;&#x906E;&#x853D; Standard Library &#x7684; Module.</p>
<hr>
<p><a name="reload_module"></a></p>
<h1 id="Reload_Your_Module_To_Apply_Any_Modification">Reload Your Module To Apply Any Modification</h1>
<p>&#x8ACB;&#x8A18;&#x5F97;, &#x6BCF;&#x500B; python interpreter session &#x4E2D;, &#x53EA;&#x6703; import &#x4E00;&#x6B21; module, &#x56E0;&#x6B64;&#x7576; module &#x8B8A;&#x52D5;&#x6642;, &#x8ACB;&#x57F7;&#x884C;  </p>
<ul>
<li>reload(module)</li>
</ul>
<p><img src="http://MutsuGhost1.github.io/image/python_reload_function.PNG" alt=""></p>
<p>&#x6240;&#x6709; reference &#x5230;&#x6B64; module &#x7684;&#x8B8A;&#x6578;, &#x90FD;&#x5C07;&#x53D7;&#x5F71;&#x97FF;</p>
<hr>
<p><a name="what_package"></a></p>
<h1 id="What&#x2019;s_package_?">What&#x2019;s package ?</h1>
<p>Package &#x7531;&#x4E00;&#x500B; Directory &#x6240;&#x69CB;&#x6210;, &#x88E1;&#x9762;&#x5305;&#x542B;&#x4E86; Python Module &#x6A94;&#x6848;, &#x4EE5;&#x53CA;&#x4E00;&#x500B;&#x540D;&#x7A31;&#x70BA; <strong>__ini__.py</strong> &#x7684;&#x6A94;&#x6848;.<br>&#x900F;&#x904E; <strong>__ini__.py</strong> &#x6A94;&#x6848;, Python Interpreter &#x624D;&#x6703;&#x5C07;&#x6B64; Directory &#x8996;&#x70BA;&#x4E00;&#x500B; Package.  </p>
<p><img src="http://MutsuGhost1.github.io/image/python_package.PNG" alt=""></p>
<p>&#x4E0A;&#x5716;&#x65E2;&#x70BA;&#x4E00;&#x500B;&#x7C21;&#x55AE;&#x7684; Package, &#x900F;&#x904E; import A.B &#x5247;&#x53EF; import package A &#x4E2D;&#x7684; module B.</p>
<hr>
<p><a name="why_package"></a></p>
<h1 id="Why_use_package_?">Why use package ?</h1>
<p>&#x4F7F;&#x7528; Package &#x4F86;&#x7D44;&#x7E54; Python Module &#x7684;&#x597D;&#x8655;&#x5728;&#x65BC;: </p>
<ul>
<li>&#x53EF;&#x4EE5;&#x964D;&#x4F4E; Module &#x9593;&#x7684; Coupling, &#x589E;&#x52A0; Module &#x5167;&#x7684; Cohesion  </li>
<li>&#x4F7F;&#x5F97; Module &#x66F4;&#x6613;&#x65BC; Maintain</li>
<li>&#x8B93; Module &#x66F4; readable  </li>
</ul>
<hr>
<p><a name="how_package"></a></p>
<h1 id="How_to_use_packages">How to use packages</h1>
<p>&#x900F;&#x904E;&#x4E0B;&#x5217;&#x5E7E;&#x7A2E;&#x65B9;&#x6CD5;, &#x53EF;&#x4EE5; import package &#x6216; package &#x5167;&#x7684; module:</p>
<ul>
<li>import package.module [as alias]<ul>
<li>&#x5C07;&#x57F7;&#x884C; package &#x5167;&#x7684; __init__.py &#x6A94;&#x6848;, &#x505A;&#x70BA; package &#x7684;&#x521D;&#x59CB;&#x5316;  </li>
<li>&#x5EFA;&#x7ACB;&#x4E00;&#x500B;&#x65B0;&#x7684; namespace for this module of package</li>
<li>&#x900F;&#x904E; package.module.item (or alias.item) &#x4F86;&#x5B58;&#x53D6;&#x6B64; module &#x4E2D;&#x7684;&#x5404;&#x9805; attributes </li>
</ul>
</li>
<li>import package<ul>
<li>&#x50C5;&#x57F7;&#x884C; package &#x5167;&#x7684; __init__.py &#x6A94;&#x6848;, &#x505A;&#x70BA; package &#x7684;&#x521D;&#x59CB;&#x5316;</li>
</ul>
</li>
<li>from package import module [as alias] <ul>
<li>&#x5C07;&#x57F7;&#x884C; package &#x5167;&#x7684; __init__.py &#x6A94;&#x6848;, &#x505A;&#x70BA; package &#x7684;&#x521D;&#x59CB;&#x5316;</li>
<li>&#x5F9E; package &#x4E2D;, copy &#x51FA;&#x6B64; module</li>
<li>&#x900F;&#x904E; module.item (or alias.item) &#x4F86;&#x5B58;&#x53D6;&#x6B64; module &#x4E2D;&#x7684;&#x5404;&#x9805; attributes  </li>
</ul>
</li>
</ul>
<p>&#x5047;&#x8A2D;&#x76EE;&#x524D;&#x6709;&#x4E00;&#x500B; sound package &#x5176;&#x7D50;&#x69CB;&#x5982;&#x4E0B;:</p>
<pre><code>+ sound/                    <span class="comment"># top level package</span>
    __init__.py             <span class="comment"># initialize the sound package</span>
  + formats/                <span class="comment"># sub-package for file format converstions</span>
      __init__.py
      wavread.py
      wavwrite.py
      aifread.py
      aifwrite.py
      auread.py
      auwrite.py
      <span class="keyword">...</span>
  + effects/                <span class="comment"># sub-package for sound effects</span>
      __init__.py
      echo.py
      surround.py
      reverse.py
      <span class="keyword">...</span>
  + filters/                <span class="comment"># sub-package for filters</span>
      __init__.py
      equalizer.py
      vocoder.py
      karaoke.py
      <span class="keyword">...</span>
</code></pre><p>&#x4F7F;&#x7528;&#x8005;&#x900F;&#x904E; import package.module, &#x53EF;&#x4EE5; import package &#x4E2D;&#x7684;&#x67D0;&#x500B; module,<br>Ex:</p>
<pre><code>import sound<span class="preprocessor">.effects</span><span class="preprocessor">.echo</span> 
sound<span class="preprocessor">.effects</span><span class="preprocessor">.echo</span><span class="preprocessor">.echofilter</span>(input, output, delay = <span class="number">0.7</span>, atten = <span class="number">4</span>)
</code></pre><p>&#x900F;&#x904E; from package import module, &#x4F7F;&#x7528;&#x8005;&#x53EF;&#x4EE5;&#x5F9E;&#x7279;&#x5B9A; package &#x4E2D;, copy &#x51FA;&#x67D0;&#x500B; module,<br>Ex:</p>
<pre><code>from sound.effects
import <span class="keyword">echo</span> <span class="keyword">echo</span>.echofilter(input, output, delay = <span class="number">0.7</span>, atten = <span class="number">4</span>)
</code></pre><p>&#x900F;&#x904E; from package.module import item, &#x4F7F;&#x7528;&#x8005;&#x53EF;&#x4EE5;&#x5F9E;&#x7279;&#x5B9A; package &#x4E2D;&#x7684; module, copy &#x67D0;&#x500B; attribute,<br>Ex:</p>
<pre><code><span class="title">from</span> sound.effects.echo 
<span class="import"><span class="keyword">import</span> echofilter echofilter<span class="container">(<span class="title">input</span>, <span class="title">output</span>, <span class="title">delay</span> = 0.7, <span class="title">atten</span> = 4)</span></span>
</code></pre><p><strong>from package import *</strong> statement</p>
<p>&#x5728;&#x5BE6;&#x969B;&#x7684;&#x61C9;&#x7528;&#x4E2D;, &#x4F7F;&#x7528;&#x8005;&#x53EF;&#x80FD;&#x6703;&#x60F3;&#x8981;&#x4E00;&#x6B21;&#x5C07; package &#x4E2D;&#x7684; module &#x90FD; import &#x9032; namespace &#x4E2D;.<br>&#x4F46;&#x4E8B;&#x5BE6;&#x4E0A;, &#x9019;&#x6A23;&#x7684;&#x505A;&#x6CD5;&#x6703;&#x56E0;&#x70BA; import &#x67D0;&#x4E9B;&#x4F7F;&#x7528;&#x8005;&#x4E0D;&#x9810;&#x671F;&#x7684; module &#x800C;&#x7522;&#x751F;&#x4E00;&#x4E9B;&#x4F7F;&#x7528;&#x4E0D;&#x9810;&#x671F;&#x7684;&#x884C;&#x70BA;.<br>&#x6B63;&#x56E0;&#x70BA;&#x5982;&#x6B64;, &#x91DD;&#x5C0D; package &#x7684; import * &#x5C31;&#x5FC5;&#x9808;&#x9075;&#x5B88;&#x4E0B;&#x5217;&#x7684;&#x898F;&#x5247;:</p>
<ul>
<li>&#x82E5;&#x662F; package &#x4E2D;&#x7684; __init__.py &#x6A94;&#x6848;&#x5167;&#x6709;&#x5B9A;&#x7FA9; __all__ &#x8B8A;&#x6578;, &#x5247;&#x6703;&#x4F9D;&#x64DA; __all__&#x8B8A;&#x6578;&#x4E2D;&#x7684;&#x5167;&#x5BB9;,<br>&#x4F86;&#x6C7A;&#x5B9A;&#x8981; import &#x54EA;&#x4E9B; sub-modules</li>
<li>&#x5426;&#x5247;&#x7576;__init__.py &#x6A94;&#x6848;&#x5167;&#x6C92;&#x6709;&#x5B9A;&#x7FA9; __all__ &#x8B8A;&#x6578;, &#x5247;&#x53EA;&#x6703;&#x57F7;&#x884C; __init__.py &#x5167;&#x7684;&#x6558;&#x8FF0;</li>
</ul>
<p><strong>intra package reference</strong>  </p>
<ul>
<li>import module in the same package<br>The surround module, it can simply use:</li>
</ul>
<p>Ex:  </p>
<pre><code><span class="comment"># surround.py</span>
<span class="keyword">import</span> echo
<span class="keyword">from</span> echo <span class="keyword">import</span> echofilter
</code></pre><ul>
<li>import module in the different package<br>Use absolute import to refer sub-modules of sibling package:</li>
</ul>
<p>Ex:</p>
<pre><code><span class="comment">#vocoder.py</span>
<span class="keyword">from</span> sound.effects <span class="keyword">import</span> echo
</code></pre><hr>
<p><a name="package_example"></a></p>
<h1 id="An_example_to_refactor_a_module_as_a_package">An example to refactor a module as a package</h1>
<p>&#x5047;&#x8A2D;&#x76EE;&#x524D;&#x6709;&#x4E00;&#x500B; module phone.py, &#x88E1;&#x9762;&#x5305;&#x542B;&#x4E86; utility for Pots phone, Isdn phone and G3 phone.<br>&#x5982;&#x4E0B;:</p>
<pre><code><span class="comment"># Phone.py</span>
<span class="function"><span class="keyword">def</span>  <span class="title">Pots</span><span class="params">()</span>:</span>
    <span class="keyword">print</span> &#x201C;I&#x2019;m Pots Phone&#x201D;

<span class="function"><span class="keyword">def</span> <span class="title">Isdn</span><span class="params">()</span>:</span>
    <span class="keyword">print</span> &#x201C;I&#x2019;m Isdn Phone&#x201D;

Def G3():
    <span class="keyword">print</span> &#x201C;I&#x2019;m G3 Phone&#x201D;
</code></pre><p>&#x4E8B;&#x5BE6;&#x4E0A;, &#x6211;&#x5011;&#x53EF;&#x4EE5;&#x5C07;&#x5B83;&#x898F;&#x5283;&#x6210; package &#x7684;&#x5F62;&#x5F0F;,<br>&#x5982;&#x4E0B;&#xFF1A;  </p>
<pre><code>+ Phone
    <span class="command">\_</span><span class="command">\_</span>init<span class="command">\_</span><span class="command">\_</span>.py
    Pots.py
    Isdn.py
    G3.py
</code></pre><p>&#x900F;&#x904E;&#x5728; __init__.py&#x3000;&#x4E2D;, &#x5C07; sub-module &#x4E2D;&#x7684; utility &#x90FD; copy &#x51FA;&#x4F86;,<br>&#x5982;&#x4E0B;:</p>
<pre><code><span class="comment"># file: __init__.py</span>
<span class="keyword">from</span> Pots <span class="keyword">import</span> Pots    <span class="comment"># &#x5F9E; Pots &#x9019;&#x500B; sub-module &#x4E2D;, copy Pots &#x9019;&#x500B; attribute</span>
<span class="keyword">from</span> Isdn <span class="keyword">import</span> Isdn    <span class="comment"># &#x5F9E; Isdn &#x9019;&#x500B; sub-module &#x4E2D;, copy Isdn &#x9019;&#x500B; attribute</span>
<span class="keyword">from</span> G3 <span class="keyword">import</span> G3        <span class="comment"># &#x5F9E; G3 &#x9019;&#x500B; sub-module &#x4E2D;, copy G3 &#x9019;&#x500B; attribute</span>
</code></pre><p>&#x7528;&#x6236;&#x7AEF;&#x7684;&#x4EE3;&#x78BC;,<br>&#x5982;&#x4E0B;:</p>
<pre><code><span class="preprocessor"># test.py</span>
import Phone

Phone<span class="preprocessor">.Pots</span>()
Phone<span class="preprocessor">.Isdn</span>()
Phone<span class="preprocessor">.G</span>3()
</code></pre><p>Output:</p>
<pre><code><span class="keyword">I</span>&#x2019;m Pots Phone
<span class="keyword">I</span>&#x2019;m Isdn Phone
<span class="keyword">I</span>&#x2019;m G3 Phone
</code></pre><p>&#x9019;&#x6A23;&#x7684;&#x8A2D;&#x8A08;, &#x4E0D;&#x50C5;&#x80FD;&#x5920;&#x8B93;&#x4F7F;&#x7528;&#x8005;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x9019;&#x4E9B; module, &#x4E5F;&#x80FD;&#x964D;&#x4F4E; module maintain &#x4E0A;&#x7684; efforts</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Software/">Software</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/Python/">Python</a>, <a href="/tags/Study-Group/">Study Group</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:mutsughost1.github.io/">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分類</h3>
  <ul class="entry">
  
    <li><a href="/categories/Software/">Software</a><small>4</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/Blog/">Blog</a><small>1</small></li>
  
    <li><a href="/tags/Python/">Python</a><small>3</small></li>
  
    <li><a href="/tags/Software-Testing/">Software Testing</a><small>1</small></li>
  
    <li><a href="/tags/Study-Group/">Study Group</a><small>3</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2014/05/18/learning-mockito/">Mockito Basic</a>
      </li>
    
      <li>
        <a href="/2013/09/29/python-basic/">Python Basic</a>
      </li>
    
      <li>
        <a href="/2013/09/29/about-this-blog/">About This Blog</a>
      </li>
    
      <li>
        <a href="/2013/09/27/python-oop-exception/">Python OOP Exception</a>
      </li>
    
      <li>
        <a href="/2013/09/27/python-module-package/">Python Module Package</a>
      </li>
    
  </ul>
</div>


  <div class="widget tag">
  <h3 class="title">最新留言</h3>
  <ul class="entry">
  <script type="text/javascript" src="http://mutsughost1.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=200&hide_mods=0"></script>
  </ul>
</div>


  <div class="widget tag">
  <h3 class="title">喃喃自語</h3>
  <ul class="entry">
  <a class="twitter-timeline" height="250" href="https://twitter.com/MutsuGhost1" data-widget-id="384199658408402944">@MutsuGhost1������</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</div>


</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 MutsuGhost1
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'mutsughost1';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>