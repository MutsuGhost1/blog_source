<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mockito Basic | MutsuGhost1&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Learning Mockito with examples

Verify some behavior (ignore any return value)
Verify some behavior with stubbing the return value
Verify unstubbing behavior
Argument matcher
Verify exact number of">
<meta property="og:type" content="article">
<meta property="og:title" content="Mockito Basic">
<meta property="og:url" content="http://mutsughost1.github.io//2014/05/18/learning-mockito/">
<meta property="og:site_name" content="MutsuGhost1's Blog">
<meta property="og:description" content="Learning Mockito with examples

Verify some behavior (ignore any return value)
Verify some behavior with stubbing the return value
Verify unstubbing behavior
Argument matcher
Verify exact number of">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mockito Basic">
<meta name="twitter:description" content="Learning Mockito with examples

Verify some behavior (ignore any return value)
Verify some behavior with stubbing the return value
Verify unstubbing behavior
Argument matcher
Verify exact number of">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44446906-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">MutsuGhost1&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Pursue excellence, and success will follow, pants down</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/atom.xml">RSS</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://mutsughost1.github.io/"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-learning-mockito" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/05/18/learning-mockito/" class="article-date">
  <time datetime="2014-05-18T00:48:44.000Z" itemprop="datePublished">5月 18 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mockito Basic
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a name="table"></a></p>
<ul>
<li><h2 id="Learning_Mockito_with_examples">Learning Mockito with examples</h2>
<ol>
<li><strong><a href="#1">Verify some behavior (ignore any return value)</a></strong></li>
<li><strong><a href="#2">Verify some behavior with stubbing the return value</a></strong></li>
<li><strong><a href="#3">Verify unstubbing behavior</a></strong></li>
<li><strong><a href="#4">Argument matcher</a></strong></li>
<li><strong><a href="#5">Verify exact number of invocations</a></strong></li>
<li><strong><a href="#6">Verification in order</a></strong></li>
<li><strong><a href="#7">Finding redundant invocations</a></strong></li>
<li><strong><a href="#8">Stubbing consecutive calls</a></strong></li>
<li><strong><a href="#9">Stubbing with callbacks</a></strong></li>
<li><strong><a href="#10">doReturn()|doThrow()|doAnswer()|doNoting()|doCallRealMethod() family of methods</a></strong></li>
<li><strong><a href="#11">Reset mock</a></strong></li>
<li><strong><a href="#12">Capturing Argument</a></strong></li>
<li><strong><a href="#13">Changing default return values of unstubbed invocations</a></strong></li>
<li><strong><a href="#14">Inject mock/spy object into tested target</a></strong></li>
<li><strong><a href="#15">Verify with timeout</a></strong></li>
</ol>
</li>
</ul>
<p><a id="more"></a></p>
<hr>
<ul>
<li><h2 id="Basic_Concepts">Basic Concepts</h2>
<ul>
<li>&#x64B0;&#x5BEB; Unit Test &#x7684; 3A &#x539F;&#x5247;:<ol>
<li>Arrange: <ul>
<li>Set up th object to be tested.</li>
<li>We may need to surround the object with collaborators. <br> For testing purposes, those collaborators minght be test objects (mocks, fakes, etc&#x2026;) or the real ting.</li>
</ul>
</li>
<li>Act:<ul>
<li>Act on the object. (invoke the tested method with parameters.)</li>
</ul>
</li>
<li>Assert:<ul>
<li>Make claims about the object, its collaborators, its parameters and possibly global state.</li>
<li>In other words, verify the test result.</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<hr>
<p><a name="1"></a></p>
<h2 id="Verify_somw_behavior_(ignore_any_return_value)">Verify somw behavior (ignore any return value)</h2>
<ul>
<li>&#x5982;&#x679C;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; method, &#x4E0D;&#x9700;&#x8981;&#x7279;&#x5B9A;&#x7684; return value, &#x6216;&#x662F;&#x6C92;&#x6709; return value, &#x5247;&#x76F4;&#x63A5;&#x4F7F;&#x7528; default stubbing &#x7684;&#x884C;&#x70BA;.</li>
<li>&#x4F7F;&#x7528; verify + times &#x4F86;&#x9A57;&#x8B49;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; method &#x662F;&#x5426;&#x6709;&#x88AB;&#x547C;&#x53EB;&#x5230;(&#x5305;&#x542B;&#x547C;&#x53EB;&#x6642;&#x53C3;&#x6578;&#x70BA;&#x4F55; &#x2026; etc), &#x4E14;&#x547C;&#x53EB;&#x4E86;&#x5E7E;&#x6B21;. </li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test01(){

    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>)mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    <span class="comment">// Action on the object</span>
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    mockedList<span class="built_in">.</span>clear();

    <span class="comment">// Assert</span>
    <span class="comment">// Verify the result</span>
    verify(mockedList)<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList)<span class="built_in">.</span>clear();

    <span class="comment">// Act</span>
    <span class="comment">// Action on the object</span>
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    mockedList<span class="built_in">.</span>clear();

    <span class="comment">// Assert</span>
    <span class="comment">// Verify the result.</span>
    <span class="comment">// The interactions should be accumulated unless the mock object is reset</span>
    verify(mockedList, times(<span class="number">2</span>))<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList, times(<span class="number">2</span>))<span class="built_in">.</span>clear();
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="2"></a></p>
<h2 id="Verify_some_behavior_with_stubbing_the_return_value">Verify some behavior with stubbing the return value</h2>
<ul>
<li>&#x5982;&#x679C;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; method, &#x9700;&#x8981;&#x7279;&#x5B9A;&#x7684; return value, &#x5247;&#x5FC5;&#x9808;&#x6539;&#x8B8A; default stubbing &#x7684;&#x884C;&#x70BA;</li>
<li>&#x900F;&#x904E; when(&#x2026;).thenReturn(&#x2026;) &#x4F86;&#x6539;&#x8B8A; default stubbing &#x7684;&#x884C;&#x70BA;</li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, it can be a concrete class</span>
    LinkedList&lt;String&gt; mockedList = (LinkedList&lt;String&gt;) mock(LinkedList.class);

    <span class="comment">// Act</span>
    <span class="comment">// Stubbing it.</span>
    <span class="comment">// Make it return what you want</span>
    when(mockedList.<span class="keyword">get</span>(<span class="number">0</span>)).thenReturn(<span class="string">&quot;first&quot;</span>);
    <span class="comment">// The latter stubbing will override the former one</span>
    when(mockedList.<span class="keyword">get</span>(<span class="number">0</span>)).thenReturn(<span class="string">&quot;firstfirst&quot;</span>);
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test02:&quot;</span> + mockedList.<span class="keyword">get</span>(<span class="number">0</span>));
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test02:&quot;</span> + mockedList.<span class="keyword">get</span>(<span class="number">0</span>));

    <span class="comment">// Assert</span>
    verify(mockedList, times(<span class="number">2</span>)).<span class="keyword">get</span>(<span class="number">0</span>);
}
</code></pre><p><strong>Output:</strong></p>
<pre><code><span class="tag">test02</span><span class="pseudo">:firstfirst</span>
<span class="tag">test02</span><span class="pseudo">:firstfirst</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="3"></a></p>
<h2 id="Verify_unstubbing_behavior">Verify unstubbing behavior</h2>
<ul>
<li>Default stubbing &#x7684;&#x884C;&#x70BA;, &#x56DE;&#x50B3;&#x578B;&#x5225; Object &#x5C0D;&#x61C9;&#x5230; null, primitive type &#x7684; int &#x5C0D;&#x61C9;&#x5230; 0 &#x2026; etc</li>
</ul>
<pre><code><span class="property">@SuppressWarnings</span>(<span class="string">&quot;unchecked&quot;</span>)
public <span class="reserved">void</span> test03(){
    <span class="regexp">//</span> Arrange
    <span class="regexp">//</span> Create the mock object, it can be a concrete <span class="class"><span class="keyword">class</span></span>
    LinkedList&lt;String&gt; mockedList = (LinkedList&lt;String&gt;) mock(LinkedList.class);

    <span class="regexp">//</span> Act
    <span class="regexp">//</span> The <span class="reserved">default</span> <span class="keyword">return</span> value <span class="keyword">for</span> object <span class="keyword">is</span> <span class="literal">null</span>.
    <span class="regexp">//</span> For primitive type, the <span class="reserved">default</span> value <span class="keyword">for</span> int <span class="keyword">is</span> <span class="number">0.</span>
    //                   , the <span class="reserved">default</span> value <span class="keyword">for</span> boolean <span class="keyword">is</span> <span class="literal">false</span>.
    System.out.println(<span class="string">&quot;test03:&quot;</span> + mockedList.get(<span class="number">0</span>));

    <span class="regexp">//</span> Assert
    <span class="regexp">//</span> times(<span class="number">1</span>) <span class="keyword">is</span> the <span class="reserved">default</span> value, <span class="keyword">if</span> you don<span class="string">&apos;t specify it
    verify(mockedList, times(1)).get(0);
}</span>
</code></pre><p><strong>Output:</strong></p>
<pre><code>test03:<span class="keyword">null</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="4"></a></p>
<h2 id="Argument_matching_using_default_matcher">Argument matching using default matcher</h2>
<ul>
<li>&#x5728;&#x66FF;&#x63DB; default stubbing &#x884C;&#x70BA;&#x6642;, &#x91DD;&#x5C0D;&#x53C3;&#x6578;&#x7684;&#x90E8;&#x4EFD;, &#x53EF;&#x5229;&#x7528; argument matching &#x7684;&#x65B9;&#x5F0F;, &#x4F86;&#x4F5C;&#x66F4;&#x5927;&#x7BC4;&#x570D;&#x7684; matching</li>
<li>&#x5728;&#x9A57;&#x8B49;&#x88AB;&#x4F9D;&#x8CF4; method &#x88AB;&#x547C;&#x53EB;&#x5E7E;&#x6B21;&#x6642;, &#x91DD;&#x5C0D;&#x53C3;&#x6578;&#x7684;&#x90E8;&#x4EFD;, &#x53EF;&#x5229;&#x7528; argument matching &#x7684;&#x65B9;&#x5F0F;, &#x4F86;&#x4F5C;&#x66F4;&#x5927;&#x7BC4;&#x570D;&#x7684; matching</li>
<li>anyInt() &#x662F;&#x4E00;&#x500B;&#x7CFB;&#x7D71;&#x5DF2;&#x7D93;&#x5BEB;&#x597D;&#x7684; argument matcher, &#x8868;&#x793A;&#x53C3;&#x6578;&#x70BA;&#x4EFB;&#x4F55; int</li>
</ul>
<pre><code><span class="comment">// Argument Matching Using Default Matcher</span>
@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    List&lt;String&gt; mockedList = (List&lt;String&gt;) mock(List.class);
    when(mockedList.<span class="keyword">get</span>(anyInt())).thenReturn(<span class="string">&quot;stubbing string&quot;</span>);

    <span class="comment">// Act</span>
    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ; i&lt;<span class="number">10</span>; i++){
        System.<span class="keyword">out</span>.println(<span class="string">&quot;[&quot;</span>+ i + <span class="string">&quot;]:&quot;</span> + mockedList.<span class="keyword">get</span>(i));
    }

    <span class="comment">// Assert</span>
    verify(mockedList, times(<span class="number">10</span>)).<span class="keyword">get</span>(anyInt());
}
</code></pre><p><strong>Output:</strong></p>
<pre><code><span class="attr_selector">[0]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[1]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[2]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[3]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[4]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[5]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[6]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[7]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[8]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
<span class="attr_selector">[9]</span><span class="pseudo">:stubbing</span> <span class="tag">string</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="Argument_matching_using_customized_matcher">Argument matching using customized matcher</h2>
<ul>
<li>&#x5728;&#x66FF;&#x63DB; default stubbing &#x884C;&#x70BA;&#x6642;, &#x91DD;&#x5C0D;&#x53C3;&#x6578;&#x7684;&#x90E8;&#x4EFD;, &#x53EF;&#x5229;&#x7528; argument matching &#x7684;&#x65B9;&#x5F0F;, &#x4F86;&#x4F5C;&#x66F4;&#x5927;&#x7BC4;&#x570D;&#x7684; matching</li>
<li>&#x5728;&#x9A57;&#x8B49;&#x88AB;&#x4F9D;&#x8CF4; method &#x88AB;&#x547C;&#x53EB;&#x5E7E;&#x6B21;&#x6642;, &#x91DD;&#x5C0D;&#x53C3;&#x6578;&#x7684;&#x90E8;&#x4EFD;, &#x53EF;&#x5229;&#x7528; argument matching &#x7684;&#x65B9;&#x5F0F;, &#x4F86;&#x4F5C;&#x66F4;&#x5927;&#x7BC4;&#x570D;&#x7684; matching</li>
<li>listOfTwoElements() &#x662F;&#x4E00;&#x500B;&#x4F7F;&#x7528;&#x8005;&#x81EA;&#x5DF1;&#x5BEB;&#x7684; argument matcher, &#x8868;&#x793A;&#x53C3;&#x6578;&#x5FC5;&#x9808;&#x70BA; size() == 2 &#x7684; List</li>
<li>&#x53EA;&#x8981;&#x6709;&#x4E00;&#x500B;&#x53C3;&#x6578;&#x662F;&#x4F7F;&#x7528; argument matcher, &#x6240;&#x6709;&#x53C3;&#x6578;&#x90FD;&#x5FC5;&#x9808;&#x4F7F;&#x7528; argument matcher</li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;rawtypes&quot;</span>)
<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">IsListOfTwoElements</span> <span class="keyword">extends</span> <span class="title">ArgumentMatcher</span>&lt;<span class="title">List</span>&gt;{</span>
    @Override
    <span class="keyword">public</span> boolean matches(Object argument) {
        <span class="keyword">return</span> <span class="number">2</span> == ((<span class="keyword">List</span>)argument).size();
    }

}

@SuppressWarnings(<span class="string">&quot;rawtypes&quot;</span>)
<span class="keyword">private</span> <span class="keyword">List</span> listOfTwoElements(){
    <span class="keyword">return</span> argThat(<span class="keyword">new</span> IsListOfTwoElements());
}

<span class="comment">// Argument Matching Using Custom Matcher</span>
@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> void test05(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="keyword">List</span>&lt;String&gt; mockedList = (<span class="keyword">List</span>&lt;String&gt;) mock(<span class="keyword">List</span>.class);
    when(mockedList.addAll(listOfTwoElements())).thenReturn(<span class="keyword">true</span>);

    <span class="comment">// Act</span>
    mockedList.addAll(Arrays.asList(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>));

    <span class="comment">// Assert</span>
    verify(mockedList).addAll(listOfTwoElements());
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="5"></a></p>
<h2 id="Verify_exact_number_of_invocation">Verify exact number of invocation</h2>
<ul>
<li>&#x6AA2;&#x67E5;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; method, &#x88AB;&#x547C;&#x53EB;&#x4E86;&#x5E7E;&#x6B21;, &#x81F3;&#x5C11;&#x88AB;&#x547C;&#x53EB;&#x4E86;&#x5E7E;&#x6B21;, &#x6C92;&#x6709;&#x88AB;&#x547C;&#x53EB; &#x2026; &#x7B49;</li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test06(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);

    <span class="comment">// Assert</span>
    verify(mockedList)<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList, times(<span class="number">1</span>))<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList, times(<span class="number">2</span>))<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    verify(mockedList, times(<span class="number">3</span>))<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);

    verify(mockedList, never())<span class="built_in">.</span>add(<span class="string">&quot;none&quot;</span>);
    verify(mockedList, atLeastOnce())<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList, atLeast(<span class="number">2</span>))<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    verify(mockedList, atMost(<span class="number">5</span>))<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="6"></a></p>
<h2 id="Verification_in_order,_using_single_mock">Verification in order, using single mock</h2>
<ul>
<li>&#x4F7F;&#x7528; inOrder &#x4F86;&#x6AA2;&#x8996;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; methods &#x4E4B;&#x9593;&#x88AB;&#x547C;&#x53EB;&#x7684;&#x9806;&#x5E8F;</li>
<li>&#x6B64;&#x4F8B;&#x91DD;&#x5C0D;&#x4E00;&#x500B; object &#x7684; methods &#x4F86;&#x4F5C;&#x9A57;&#x8B49; </li>
</ul>
<pre><code><span class="keyword">public</span> <span class="literal">void</span> test07(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> singleMock <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    singleMock<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    singleMock<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);

    <span class="comment">// Assert</span>
    InOrder inOrder <span class="subst">=</span> inOrder(singleMock);
    inOrder<span class="built_in">.</span>verify(singleMock)<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    inOrder<span class="built_in">.</span>verify(singleMock)<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="Verification_in_order,_using_multiple_mock">Verification in order, using multiple mock</h2>
<ul>
<li>&#x4F7F;&#x7528; inOrder &#x4F86;&#x6AA2;&#x8996;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; methods &#x4E4B;&#x9593;&#x88AB;&#x547C;&#x53EB;&#x7684;&#x9806;&#x5E8F;</li>
<li>&#x6B64;&#x4F8B;&#x91DD;&#x5C0D;&#x591A;&#x500B; objects &#x7684; methods &#x4F86;&#x4F5C;&#x9A57;&#x8B49; </li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test08(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> firstMock <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> secondMock <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    firstMock<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    secondMock<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    firstMock<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);
    secondMock<span class="built_in">.</span>add(<span class="string">&quot;four&quot;</span>);

    <span class="comment">// Assert</span>
    <span class="comment">// Verification in order is flexible - you don&apos;t have to</span>
    <span class="comment">//   verify all interactions one-by-one but only those you&apos;re</span>
    <span class="comment">//   interested in testing in order</span>
    InOrder inOrder <span class="subst">=</span> inOrder(firstMock, secondMock);
    inOrder<span class="built_in">.</span>verify(firstMock)<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    inOrder<span class="built_in">.</span>verify(secondMock)<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    <span class="comment">// it still passes, even marks it as comment</span>
    inOrder<span class="built_in">.</span>verify(firstMock)<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);
    inOrder<span class="built_in">.</span>verify(secondMock)<span class="built_in">.</span>add(<span class="string">&quot;four&quot;</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="7"></a></p>
<h2 id="Finding_redundant_invocations">Finding redundant invocations</h2>
<ul>
<li>&#x900F;&#x904E; verifyNoMoreInteraction(&#x2026;) &#x9A57;&#x8B49;, &#x662F;&#x5426;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; object &#x4E2D;, &#x6240;&#x6709;&#x88AB;&#x547C;&#x53EB;&#x7684; methods &#x90FD;&#x88AB; verify &#x904E;&#x4E86;</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="literal">void</span> test09(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);

    <span class="comment">// Assert</span>
    verify(mockedList)<span class="built_in">.</span>add(<span class="string">&quot;one&quot;</span>);
    verify(mockedList)<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>); <span class="comment">// mark it to fail</span>

    verifyNoMoreInteractions(mockedList);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="8"></a></p>
<h2 id="Stubbing_consecutive_calls_(iterator-style_stubbing)">Stubbing consecutive calls (iterator-style stubbing)</h2>
<ul>
<li>&#x4E00;&#x822C;&#x4F86;&#x8AAA;, &#x6700;&#x5F8C;&#x4E00;&#x6B21;&#x7684; stubbing &#x6703;&#x84CB;&#x904E;&#x4E4B;&#x524D;&#x7684;&#x884C;&#x70BA;</li>
<li>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x9023;&#x7E8C;&#x5E7E;&#x6B21;&#x7684;&#x547C;&#x53EB;, &#x56DE;&#x50B3;&#x7684;&#x503C;&#x90FD;&#x4E0D;&#x4E00;&#x6A23;, &#x53EF;&#x4EE5;&#x8003;&#x616E; stubbing consecutive calls</li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test10(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    when(mockedList<span class="built_in">.</span>get(<span class="number">0</span>))<span class="built_in">.</span>thenReturn(<span class="string">&quot;0&quot;</span>)<span class="built_in">.</span>thenReturn(<span class="string">&quot;1&quot;</span>);
    <span class="comment">// the usage above is equal to the below</span>
    <span class="comment">// when(mockedList.get(0)).thenReturn(&quot;0&quot;,&quot;1&quot;);</span>

    <span class="comment">// Assert</span>
    assertTrue(<span class="string">&quot;0&quot;</span><span class="built_in">.</span><span class="keyword">equals</span>(mockedList<span class="built_in">.</span>get(<span class="number">0</span>)));
    assertTrue(<span class="string">&quot;1&quot;</span><span class="built_in">.</span><span class="keyword">equals</span>(mockedList<span class="built_in">.</span>get(<span class="number">0</span>)));
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="9"></a></p>
<h2 id="Stubbing_with_callbacks">Stubbing with callbacks</h2>
<ul>
<li>&#x7576;&#x547C;&#x53EB;&#x5230;&#x67D0;&#x500B;&#x88AB;&#x4F9D;&#x8CF4;&#x7684; method &#x6642;, &#x4F60;&#x60F3;&#x8981;&#x57F7;&#x884C;&#x4E00;&#x6BB5;&#x7279;&#x5B9A;&#x7684;&#x4EE3;&#x78BC;, &#x53EF;&#x4EE5;&#x8003;&#x616E; when(&#x2026;).thenAnswer(&#x2026;)</li>
<li>&#x9019;&#x7A2E;&#x65B9;&#x5F0F;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x7528;&#x4F86;&#x6A21;&#x64EC; callback &#x884C;&#x70BA;</li>
</ul>
<pre><code><span class="comment">// stubbing with callback</span>
<span class="comment">//   it can be used to simulate the response callback</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test11</span>(){
    <span class="comment">// Arrange</span>
    Util mock = mock(Util.class);

    <span class="comment">// Act</span>
    when(mock.asyncCall()).thenAnswer(<span class="keyword">new</span> Answer(){
        <span class="annotation">@Override</span>
        <span class="keyword">public</span> Object <span class="title">answer</span>(InvocationOnMock invocation) <span class="keyword">throws</span> Throwable {
            <span class="comment">// do the response call</span>
            System.out.println(<span class="string">&quot;test11: answer callback&quot;</span>);
            <span class="keyword">return</span> Boolean.valueOf(<span class="keyword">true</span>);
        }
    });

    <span class="comment">// Assert</span>
    assertTrue(mock.asyncCall());
    verify(mock).asyncCall();
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="10"></a></p>
<h2 id="doReturn_using_mock">doReturn using mock</h2>
<ul>
<li>&#x60F3;&#x66FF;&#x63DB;&#x6389; default stubbing, &#x53E6;&#x4E00;&#x7A2E;&#x9078;&#x64C7;&#x65B9;&#x5F0F;&#x662F; doReturn(&#x2026;).when(&#x2026;).someMethod(&#x2026;)</li>
<li>&#x9019;&#x7A2E;&#x65B9;&#x5F0F;&#x7279;&#x5225;&#x9069;&#x5408; spy, &#x56E0;&#x70BA; spy &#x9810;&#x8A2D;&#x884C;&#x70BA;&#x662F;&#x547C;&#x53EB; real method, &#x6709;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x554F;&#x984C;</li>
</ul>
<pre><code><span class="comment">// doReturn using mock</span>
<span class="keyword">public</span> <span class="literal">void</span> test12(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    <span class="comment">// When you use mock, it&apos;s equal to when(mockedList.get(0)).thenReturn(&quot;0&quot;)</span>
    doReturn(<span class="string">&quot;one&quot;</span>)<span class="built_in">.</span>when(mockedList)<span class="built_in">.</span>get(<span class="number">0</span>);
    <span class="comment">// when(mockedList.get(0)).thenReturn(&quot;0&quot;);</span>

    <span class="comment">// Assert</span>
    assertTrue(<span class="string">&quot;one&quot;</span><span class="built_in">.</span><span class="keyword">equals</span>(mockedList<span class="built_in">.</span>get(<span class="number">0</span>)));
    verify(mockedList)<span class="built_in">.</span>get(<span class="number">0</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="doReturn_using_spy">doReturn using spy</h2>
<ul>
<li>&#x60F3;&#x66FF;&#x63DB;&#x6389; default stubbing, &#x53E6;&#x4E00;&#x7A2E;&#x9078;&#x64C7;&#x65B9;&#x5F0F;&#x662F; doReturn(&#x2026;).when(&#x2026;).someMethod(&#x2026;)</li>
<li>&#x9019;&#x7A2E;&#x65B9;&#x5F0F;&#x7279;&#x5225;&#x9069;&#x5408; spy, &#x56E0;&#x70BA; spy &#x9810;&#x8A2D;&#x884C;&#x70BA;&#x662F;&#x547C;&#x53EB; real method, &#x6709;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x554F;&#x984C;</li>
</ul>
<pre><code><span class="comment">// doReturn using spy</span>
<span class="keyword">public</span> <span class="literal">void</span> test13(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> spyList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) spy(<span class="literal">new</span> LinkedList<span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>());

    <span class="comment">// Act</span>
    <span class="comment">// When you use spy, it&apos;s not equal to when(spyList.get(0)).thenReturn(&quot;0&quot;)</span>
    doReturn(<span class="string">&quot;one&quot;</span>)<span class="built_in">.</span>when(spyList)<span class="built_in">.</span>get(<span class="number">0</span>);
    <span class="comment">// when(spyList.get(0)).thenReturn(&quot;0&quot;);</span>

    <span class="comment">// Assert</span>
    assertTrue(<span class="string">&quot;one&quot;</span><span class="built_in">.</span><span class="keyword">equals</span>(spyList<span class="built_in">.</span>get(<span class="number">0</span>)));
    verify(spyList)<span class="built_in">.</span>get(<span class="number">0</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="doThrow">doThrow</h2>
<ul>
<li>&#x8B93; method &#x88AB;&#x547C;&#x53EB;&#x6642;, &#x4E1F;&#x51FA;&#x7279;&#x5B9A;&#x7684; Exception</li>
</ul>
<pre><code><span class="comment">// doThrow</span>
@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test14</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    List&lt;String&gt; mockedList = (List&lt;String&gt;) mock(List.class);

    <span class="comment">// it&apos;s equal to</span>
    <span class="comment">// doThrow(new RuntimeException()).when(mockedList).toString();</span>
    doThrow(RuntimeException.class).when(mockedList).toString();

    <span class="keyword">try</span>{
        System.<span class="keyword">out</span>.println(mockedList);
    }<span class="keyword">catch</span>(RuntimeException e){
        <span class="comment"><span class="xmlDocTag">///</span> pass</span>
    }
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="doAnswer">doAnswer</h2>
<ul>
<li>when(&#x2026;).thenAnswer(&#x2026;) &#x7684;&#x53E6;&#x4E00;&#x7A2E;&#x66FF;&#x4EE3;&#x65B9;&#x6848;</li>
<li>&#x9019;&#x7A2E;&#x65B9;&#x5F0F;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x7528;&#x4F86;&#x6A21;&#x64EC; callback &#x884C;&#x70BA;</li>
</ul>
<pre><code><span class="comment">// rewrite case 10 using doAnswer</span>
<span class="annotation">@SuppressWarnings</span>(<span class="string">&quot;rawtypes&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test15</span>(){
    <span class="comment">// Arrange</span>
    Util mock = mock(Util.class);

    <span class="comment">// Act</span>
    doAnswer(<span class="keyword">new</span> Answer(){
        <span class="annotation">@Override</span>
        <span class="keyword">public</span> Object <span class="title">answer</span>(InvocationOnMock invocation) <span class="keyword">throws</span> Throwable {
            <span class="comment">// do the response call</span>
            System.out.println(<span class="string">&quot;test15: answer callback&quot;</span>);
            <span class="keyword">return</span> Boolean.valueOf(<span class="keyword">true</span>);
        }
    }).when(mock).asyncCall();

    <span class="comment">// Assert</span>
    assertTrue(mock.asyncCall());
    verify(mock).asyncCall();
}
</code></pre><p><strong>Output:</strong></p>
<pre><code><span class="attribute">test15</span>: <span class="string">answer callback</span>
<span class="attribute">test15</span>: <span class="string">answer callback</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="doNothing">doNothing</h2>
<ul>
<li>&#x4F7F;&#x7528; stubbing consecutive calls &#x6642;, &#x8B93;&#x7B2C;&#x4E00;&#x6B21; method call &#x4E0D;&#x4F5C;&#x4EFB;&#x4F55;&#x4E8B;&#x60C5;</li>
</ul>
<pre><code><span class="comment">// doNothing</span>
<span class="comment">// it&apos;s rarely to use doNothing, the following is an example</span>
<span class="annotation">@SuppressWarnings</span>(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test16</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    List&lt;String&gt; mockedList = (List&lt;String&gt;) mock(List.class);
    doNothing().doThrow(<span class="keyword">new</span> RuntimeException()).when(mockedList).clear();

    <span class="comment">// Act</span>
    <span class="comment">// does nothing the first time:</span>
    mockedList.clear();

    <span class="keyword">try</span>{
        <span class="comment">// throws RuntimeException the next time:</span>
        mockedList.clear();
    }<span class="keyword">catch</span>(RuntimeException e){

    }
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="doRealCall">doRealCall</h2>
<ul>
<li>&#x66FF;&#x63DB;&#x6389; default stubbing &#x884C;&#x70BA;, &#x8B93; mock object &#x547C;&#x53EB;&#x5176;&#x771F;&#x6B63;&#x7684; method</li>
<li>&#x5FC5;&#x9808;&#x70BA; concrete class </li>
</ul>
<pre><code><span class="keyword">private</span> <span class="keyword">class</span> Util2{
    <span class="keyword">public</span> String <span class="title">A</span>(){
        <span class="keyword">return</span> <span class="string">&quot;A&quot;</span>;
    }

    <span class="keyword">private</span> String <span class="title">B</span>(){
        <span class="keyword">return</span> <span class="string">&quot;B&quot;</span>;
    }

    <span class="keyword">public</span> String <span class="title">AB</span>(){
        <span class="keyword">return</span> A() + B();
    }
}

<span class="comment">// doRealCall</span>
<span class="comment">// mock object can also be used to do partial mock</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test17</span>(){
    Util2 mockUtil2 = mock(Util2.class);
    assertTrue(<span class="keyword">null</span> == mockUtil2.A());

    when(mockUtil2.A()).thenCallRealMethod();
    assertTrue(<span class="string">&quot;A&quot;</span>.equals(mockUtil2.A()));

    <span class="comment">// mark any one to fail</span>
    when(mockUtil2.B()).thenCallRealMethod();
    when(mockUtil2.AB()).thenCallRealMethod();
    assertTrue(<span class="string">&quot;AB&quot;</span>.equals(mockUtil2.AB()));
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="11"></a></p>
<h2 id="Reset_mock">Reset mock</h2>
<ul>
<li>&#x5C07; mock object &#x8A2D;&#x7F6E;&#x70BA;&#x521D;&#x59CB;&#x72C0;&#x614B;</li>
</ul>
<pre><code><span class="comment">// reset mock</span>
@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test18(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    mockedList<span class="built_in">.</span>get(<span class="number">0</span>);
    reset(mockedList);

    <span class="comment">// Assert</span>
    verify(mockedList, never())<span class="built_in">.</span>get(<span class="number">0</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="12"></a></p>
<h2 id="Capturing_arguments">Capturing arguments</h2>
<ul>
<li>&#x5C07; method invocation &#x6642;&#x7684;&#x53C3;&#x6578; capture &#x4E0B;&#x4F86;, &#x7528;&#x65BC;&#x5F8C;&#x7E8C;&#x7684;&#x6BD4;&#x5C0D;</li>
</ul>
<pre><code><span class="comment">// capturing arguments for further assertions</span>
@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="literal">void</span> test19(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> mockedList <span class="subst">=</span> (<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>) mock(<span class="built_in">List</span><span class="built_in">.</span>class);
    ArgumentCaptor<span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> argument <span class="subst">=</span> ArgumentCaptor<span class="built_in">.</span>forClass(<span class="built_in">String</span><span class="built_in">.</span>class);

    <span class="comment">// Act</span>
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;Hello World&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;two&quot;</span>);
    mockedList<span class="built_in">.</span>add(<span class="string">&quot;three&quot;</span>);

    <span class="comment">// Assert</span>
    verify(mockedList, times(<span class="number">3</span>))<span class="built_in">.</span>add(argument<span class="built_in">.</span>capture());

    System<span class="built_in">.</span>out<span class="built_in">.</span>println(<span class="string">&quot;test19:&quot;</span> <span class="subst">+</span> argument<span class="built_in">.</span>getAllValues());
    <span class="comment">// print the argument of last call</span>
    System<span class="built_in">.</span>out<span class="built_in">.</span>println(<span class="string">&quot;test19:&quot;</span> <span class="subst">+</span> argument<span class="built_in">.</span>getValue());
}
</code></pre><p><strong>Output:</strong></p>
<pre><code>test19:[Hello World, <span class="constant">two</span>, <span class="constant">three</span>]
test19:<span class="constant">three</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="13"></a></p>
<h2 id="Change_the_default_value_of_unstubbed_invocations_(using_RETURNS_SMART_NULLS)">Change the default value of unstubbed invocations (using RETURNS_SMART_NULLS)</h2>
<ul>
<li>&#x5C07;&#x6240;&#x6709; default stubbing &#x884C;&#x70BA;&#x4E2D;, &#x56DE;&#x50B3; null &#x7269;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;, &#x6539;&#x70BA;&#x50B3;&#x4E00;&#x500B;&#x7279;&#x6B8A;&#x7269;&#x4EF6;, &#x4E00;&#x65E6;&#x88AB;&#x547C;&#x53EB;, &#x5C07;&#x5F15;&#x767C; SmartNullPointerException</li>
<li>&#x53EF;&#x4EE5;&#x8B93; Developer &#x5F88;&#x6E05;&#x695A;&#x77E5;&#x9053;, &#x9019;&#x500B; NullPointerException &#x662F;&#x56E0;&#x70BA;&#x5FD8;&#x4E86; Mock &#x5C0E;&#x81F4;&#x7684;</li>
</ul>
<pre><code><span class="comment">// change the default value of unstubbed invocations</span>
<span class="comment">//   use RETURNS_SMART_NULLS to know which null pointer exception</span>
<span class="comment">//   is caused by unstubing</span>
@SuppressWarnings(<span class="string">&quot;rawtypes&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test20</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    List mockedList =  mock(List.class, RETURNS_SMART_NULLS);
    ListIterator iterator = mockedList.listIterator();

    <span class="keyword">try</span>{
        System.<span class="keyword">out</span>.println(<span class="string">&quot;test20:&quot;</span> + iterator.nextIndex());
    }<span class="keyword">catch</span>(SmartNullPointerException e){

    }
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="Change_the_default_value_of_unstubbed_invocations_(using_CALLS_REAL_METHODS)">Change the default value of unstubbed invocations (using CALLS_REAL_METHODS)</h2>
<ul>
<li>&#x5C07;&#x6240;&#x6709; default stubbing &#x7684;&#x884C;&#x70BA;, &#x90FD;&#x6539;&#x6210; real method calls</li>
<li>&#x7B49;&#x65BC; spy ???</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="keyword">class</span> PartialMockObject {
    <span class="keyword">public</span> String <span class="title">m1</span>(){
        <span class="keyword">return</span> <span class="string">&quot;PartialMockObject:&quot;</span> + <span class="string">&quot;m1&quot;</span>;
    }

    <span class="keyword">public</span> String <span class="title">m2</span>(){
        <span class="keyword">return</span> p() + <span class="string">&quot;m3&quot;</span>;
    }

    <span class="keyword">public</span> String <span class="title">m3</span>(){
        <span class="keyword">return</span> pp() + <span class="string">&quot;m3&quot;</span>;
    }

    <span class="keyword">public</span> String <span class="title">p</span>(){
        <span class="keyword">return</span> <span class="string">&quot;PartialMockObject:&quot;</span>;
    }

    <span class="keyword">private</span> String <span class="title">pp</span>(){
        <span class="keyword">return</span> p();
    }
}

<span class="comment">// change the default value of unstubbed invocations</span>
<span class="comment">//   use CALLS_REAL_METHODS to simulate partial mock</span>
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test24</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    PartialMockObject mock =  mock(PartialMockObject.class, CALLS_REAL_METHODS);
    PartialMockObject spy = spy(<span class="keyword">new</span> PartialMockObject());

    when(mock.m3()).thenReturn(<span class="string">&quot;m3 is stubbed&quot;</span>);
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: mock.m1()=&quot;</span> + mock.m1());
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: mock.m2()=&quot;</span> + mock.m2());
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: mock.m3()=&quot;</span> + mock.m3());

    when(spy.m3()).thenReturn(<span class="string">&quot;m3 is stubbed&quot;</span>);
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: spy.m1()=&quot;</span> + spy.m1());
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: spy.m2()=&quot;</span> + spy.m2());
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test24: spy.m3()=&quot;</span> + spy.m3());
}
</code></pre><p><strong>Output:</strong></p>
<pre><code><span class="attribute">test24</span>: <span class="string">mock.m1()=PartialMockObject:m1</span>
<span class="attribute">test24</span>: <span class="string">mock.m2()=PartialMockObject:m3</span>
<span class="attribute">test24</span>: <span class="string">mock.m3()=m3 is stubbed</span>
<span class="attribute">test24</span>: <span class="string">spy.m1()=PartialMockObject:m1</span>
<span class="attribute">test24</span>: <span class="string">spy.m2()=PartialMockObject:m3</span>
<span class="attribute">test24</span>: <span class="string">spy.m3()=m3 is stubbed</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="14"></a></p>
<h2 id="Inject_mock/spy_into_tested_target_(using_constructor)">Inject mock/spy into tested target (using constructor)</h2>
<ul>
<li>&#x91DD;&#x5C0D; SUT &#x4E2D;, &#x7279;&#x5B9A;&#x7684; fields &#x505A; Dependency Injection</li>
<li>&#x53EA;&#x8981; Constructor &#x53C3;&#x6578;&#x578B;&#x5225;&#x4E00;&#x81F4;&#x65E2;&#x53EF;</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="keyword">class</span> SUT {
    List&lt;String&gt; mList;

    <span class="keyword">public</span> <span class="title">SUT</span>(List&lt;String&gt; list){
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT&apos;s constructor&quot;</span>);
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT&apos;s mList:&quot;</span> + mList);
        mList = list;
    }

    <span class="keyword">public</span> String <span class="title">get</span>(<span class="keyword">int</span> index){
        <span class="keyword">return</span> mList.<span class="keyword">get</span>(index);
    }

    <span class="keyword">public</span> boolean <span class="title">put</span>(String obj){
        <span class="keyword">return</span> mList.add(obj);
    }

    @Override
    <span class="keyword">public</span> boolean <span class="title">equals</span>(Object obj) {
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT&apos;equals: (SUT)obj).mList =&quot;</span> + ((SUT)obj).mList);
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT&apos;equals: mList =&quot;</span> + mList);
        <span class="keyword">return</span> ((SUT)obj).mList == mList;
    }
}
</code></pre><p><strong>Output:</strong></p>
<pre><code>test21: start
SUT<span class="string">&apos;s constructor
SUT&apos;</span>s mList:null
SUT2<span class="string">&apos;s constructor
SUT3&apos;</span>s <span class="function"><span class="keyword">constructor</span>
<span class="title">SUT</span>&apos;<span class="title">s</span> <span class="title">constructor</span>
<span class="title">SUT</span>&apos;<span class="title">s</span> <span class="title">mList</span>:</span>null
SUT<span class="string">&apos;equals: (SUT)obj).mList =mList
SUT&apos;</span><span class="keyword">equals</span>: mList =mList
test21: <span class="keyword">end</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="Inject_mock/spy_into_tested_target_(using_setter)">Inject mock/spy into tested target (using setter)</h2>
<ul>
<li>&#x91DD;&#x5C0D; SUT &#x4E2D;, &#x7279;&#x5B9A;&#x7684; fields &#x505A; Dependency Injection</li>
<li>&#x53EA;&#x8981; setter &#x53C3;&#x6578;&#x578B;&#x5225;&#x4E00;&#x81F4;&#x65E2;&#x53EF;</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="keyword">class</span> SUT2 {
    List&lt;String&gt; mList2;

    <span class="keyword">public</span> <span class="title">SUT2</span>(){
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT2&apos;s constructor&quot;</span>);
    }

    <span class="keyword">public</span> String <span class="title">get</span>(<span class="keyword">int</span> index){
        <span class="keyword">return</span> mList2.<span class="keyword">get</span>(index);
    }

    <span class="keyword">public</span> boolean <span class="title">put</span>(String obj){
        <span class="keyword">return</span> mList2.add(obj);
    }

    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span>(List&lt;String&gt; list){
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT2&apos;s setList&quot;</span>);
        mList2 = list;
    }

    @Override
    <span class="keyword">public</span> boolean <span class="title">equals</span>(Object obj) {
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT2&apos;s equals: (SUT2)obj).mList2 =&quot;</span> + ((SUT2)obj).mList2);
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT2&apos;s equals: mList2 =&quot;</span> + mList2);
        <span class="keyword">return</span> ((SUT2)obj).mList2 == mList2;
    }
}

<span class="comment">// dependency injection using the setter</span>
@Mock <span class="keyword">private</span> List&lt;String&gt; mList2;
@InjectMocks <span class="keyword">private</span> SUT2 mSUT2;
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test22</span>(){
    <span class="comment">// Arrange</span>
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test22: start&quot;</span>);
    MockitoAnnotations.initMocks(<span class="keyword">this</span>);
    <span class="comment">// Act</span>
    <span class="comment">// Assert</span>
    assertNotNull(mList2);
    assertNotNull(mSUT2);

    SUT2 sut2 = <span class="keyword">new</span> SUT2();
    sut2.setList(mList2);
    assertTrue(mSUT2.equals(sut2));
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test22: end&quot;</span>);
}
</code></pre><p><strong>Output:</strong></p>
<pre><code>test22: start
SUT<span class="string">&apos;s constructor
SUT&apos;</span>s mList:null
SUT2<span class="string">&apos;s constructor
SUT3&apos;</span>s <span class="function"><span class="keyword">constructor</span>
<span class="title">SUT2</span>&apos;<span class="title">s</span> <span class="title">constructor</span>
<span class="title">SUT2</span>&apos;<span class="title">s</span> <span class="title">setList</span>
<span class="title">SUT2</span>&apos;<span class="title">s</span> <span class="title">equals</span>:</span> (SUT2)obj).mList2 =mList2
SUT2<span class="string">&apos;s equals: mList2 =mList2
test22: end</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<h2 id="Inject_mock/spy_into_tested_target_(using_field)">Inject mock/spy into tested target (using field)</h2>
<ul>
<li>&#x91DD;&#x5C0D; SUT &#x4E2D;, &#x7279;&#x5B9A;&#x7684; fields &#x505A; Dependency Injection</li>
<li>&#x53EA;&#x8981;&#x6B04;&#x4F4D;&#x578B;&#x5225;/&#x540D;&#x7A31;&#x4E00;&#x81F4;&#x5373;&#x53EF;</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="keyword">class</span> SUT3 {
    List&lt;String&gt; mList3;

    <span class="keyword">public</span> <span class="title">SUT3</span>(){
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT3&apos;s constructor&quot;</span>);
    }

    <span class="keyword">public</span> String <span class="title">get</span>(<span class="keyword">int</span> index){
        <span class="keyword">return</span> mList3.<span class="keyword">get</span>(index);
    }

    <span class="keyword">public</span> boolean <span class="title">put</span>(String obj){
        <span class="keyword">return</span> mList3.add(obj);
    }

    @Override
    <span class="keyword">public</span> boolean <span class="title">equals</span>(Object obj) {
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT3&apos;s equals: (SUT3)obj).mList3 =&quot;</span> + ((SUT3)obj).mList3);
        System.<span class="keyword">out</span>.println(<span class="string">&quot;SUT3&apos;s equals: mList3 =&quot;</span> + mList3);
        <span class="keyword">return</span> ((SUT3)obj).mList3 == mList3;
    }
}

<span class="comment">// dependency injection using field</span>
@Mock(name=<span class="string">&quot;mList3&quot;</span>) <span class="keyword">private</span> List&lt;String&gt; mLIST3;
@InjectMocks <span class="keyword">private</span> SUT3 mSUT3;
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test23</span>(){
    <span class="comment">// Arrange</span>
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test23: start&quot;</span>);
    MockitoAnnotations.initMocks(<span class="keyword">this</span>);
    <span class="comment">// Act</span>
    <span class="comment">// Assert</span>
    assertNotNull(mLIST3);
    assertNotNull(mSUT3);

    SUT3 sut3 = <span class="keyword">new</span> SUT3();
    sut3.mList3 = mLIST3;
    assertTrue(mSUT3.equals(sut3));
    System.<span class="keyword">out</span>.println(<span class="string">&quot;test23: end&quot;</span>);
}
</code></pre><p><strong>Output:</strong></p>
<pre><code>test23: start
SUT<span class="string">&apos;s constructor
SUT&apos;</span>s mList:null
SUT2<span class="string">&apos;s constructor
SUT3&apos;</span>s <span class="function"><span class="keyword">constructor</span>
<span class="title">SUT3</span>&apos;<span class="title">s</span> <span class="title">constructor</span>
<span class="title">SUT3</span>&apos;<span class="title">s</span> <span class="title">equals</span>:</span> (SUT3)obj).mList3 =mList3
SUT3<span class="string">&apos;s equals: mList3 =mList3
test23: end</span>
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<p><a name="15"></a></p>
<h2 id="Verify_with_timeout">Verify with timeout</h2>
<ul>
<li>&#x6307;&#x5B9A; verify &#x7684; timeout &#x6642;&#x9593;, &#x9019;&#x7279;&#x5225;&#x9069;&#x5408;&#x65BC;&#x7B49;&#x5F85; async &#x7684;&#x7D50;&#x679C;</li>
<li>&#x4E00;&#x65E6;&#x7D50;&#x679C;&#x6210;&#x7ACB;, verify &#x5C31;&#x6703;&#x7D50;&#x675F;, &#x4E0D;&#x6703; blocking &#x5230;&#x6642;&#x9593;&#x7D50;&#x675F;&#x624D;&#x9A57;&#x8B49;&#x7D50;&#x679C;</li>
</ul>
<pre><code>@SuppressWarnings(<span class="string">&quot;unchecked&quot;</span>)
<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test25</span>(){
    <span class="comment">// Arrange</span>
    <span class="comment">// Create the mock object, even it&apos;s an interface</span>
    final List&lt;String&gt; mockedList = (List&lt;String&gt;) mock(List.class);

    <span class="comment">// Act</span>
    <span class="comment">// When you use mock, it&apos;s equal to when(mockedList.get(0)).thenReturn(&quot;0&quot;)</span>
    Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span>() {
            <span class="keyword">try</span>{
                Thread.sleep(<span class="number">2500</span>);
                <span class="comment">// when(mockedList.get(0)).thenReturn(&quot;0&quot;);</span>
                doReturn(<span class="string">&quot;one&quot;</span>).when(mockedList).<span class="keyword">get</span>(<span class="number">0</span>);
                assertTrue(<span class="string">&quot;one&quot;</span>.equals(mockedList.<span class="keyword">get</span>(<span class="number">0</span>)));
            } <span class="keyword">catch</span>(InterruptedException e){

            }
        }
    });
    t1.start();

    <span class="comment">// Assert</span>
    <span class="keyword">long</span> start, end, elapsed;
    start = System.currentTimeMillis();
    <span class="comment">// if the condition is satisfied, it won&apos;t be blocked</span>
    verify(mockedList, timeout(<span class="number">3000</span>)).<span class="keyword">get</span>(<span class="number">0</span>);
    end = System.currentTimeMillis();
    elapsed = end - start;
    assertTrue(elapsed &gt; <span class="number">2000</span>);
}
</code></pre><p><a href="#table">&#x56DE;&#x76EE;&#x9304;</a></p>
<hr>
<ul>
<li>[Reference]<ul>
<li>[1] <a href="http://code.google.com/p/mockito/" target="_blank" rel="external">Mockito Official Website</a></li>
<li>[2] <a href="http://msdn.microsoft.com/zh-tw/library/dn167673.aspx" target="_blank" rel="external">30&#x5929;&#x5FEB;&#x901F;&#x4E0A;&#x624B;TDD</a></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://mutsughost1.github.io/2014/05/18/learning-mockito/" data-id="lgeiqhwnfmwga6w8" class="article-share-link">Share</a>
      
        <a href="http://mutsughost1.github.io/2014/05/18/learning-mockito/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Software-Testing/">Software Testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2013/09/29/python-basic/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python Basic</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Software/">Software</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Software-Testing/">Software Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Study-Group/">Study Group</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Blog/" style="font-size: 10.00px;">Blog</a><a href="/tags/Python/" style="font-size: 20.00px;">Python</a><a href="/tags/Software-Testing/" style="font-size: 10.00px;">Software Testing</a><a href="/tags/Study-Group/" style="font-size: 20.00px;">Study Group</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05">五月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09">九月 2013</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/05/18/learning-mockito/">Mockito Basic</a>
          </li>
        
          <li>
            <a href="/2013/09/29/python-basic/">Python Basic</a>
          </li>
        
          <li>
            <a href="/2013/09/29/about-this-blog/">About This Blog</a>
          </li>
        
          <li>
            <a href="/2013/09/27/python-oop-exception/">Python OOP Exception</a>
          </li>
        
          <li>
            <a href="/2013/09/27/python-module-package/">Python Module Package</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget tag">
  <h3 class="title">最新留言</h3>
  <ul class="entry">
  <script type="text/javascript" src="http://mutsughost1.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=200&hide_mods=0"></script>
  </ul>
</div>

  
    <div class="widget tag">
  <h3 class="title">喃喃自語</h3>
  <ul class="entry">
  <a class="twitter-timeline" height="250" href="https://twitter.com/MutsuGhost1" data-widget-id="384199658408402944">@MutsuGhost1������</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 MutsuGhost1<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav>
    
<script>
  var disqus_shortname = 'mutsughost1';
  
  var disqus_url = 'http://mutsughost1.github.io/2014/05/18/learning-mockito/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>
  </div>
</body>
</html>